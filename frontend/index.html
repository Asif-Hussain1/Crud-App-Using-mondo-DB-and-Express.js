<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    <title>Student Management App</title>
</head>
<body>
    <nav>
        <div>
            <h4>Student Management</h4>
        </div>
        <div>
            <a href="/" class="active">Home</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact Us</a>
        </div>
        
        <div>
            <button type="submit" id="login" data-bs-toggle="modal" data-bs-target="#loginModal">Login</button>
        </div>
    </nav>
<div class="container-fluid">

<div id="carouselExampleIndicators" class="carousel slide">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="https://img.freepik.com/free-photo/smart-dark-skinned-student-writing-something-down-from-book-listening-audio-book-his-headphones-while-sitting-cafeteria-during-his-break-drinking-takeaway-coffee-working-hard_273609-7455.jpg?size=626&ext=jpg&ga=GA1.1.1224184972.1712016000&semt=ais" class="d-block w-100 " alt="...">
      </div>
      <div class="carousel-item">
        <img src="https://images.theconversation.com/files/357240/original/file-20200909-22-1gdb54j.jpg?ixlib=rb-4.1.0&q=45&auto=format&w=926&fit=clip" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="https://as1.ftcdn.net/v2/jpg/03/88/97/92/1000_F_388979227_lKgqMJPO5ExItAuN4tuwyPeiknwrR7t2.jpg" class="d-block w-100" alt="...">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
</div>
</div>

<!-- Login Modal -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
       
        <h1 class="modal-title fs-5" id="exampleModalLabel">Login</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container">
          <form>
            <div class="mb-3">
              <label for="email1" class="form-label">Email address</label>
              <input type="email" class="form-control" id="email1" aria-describedby="emailHelp">
            </div>
            <div class="mb-3">
              <label for="password1" class="form-label">Password</label>
              <input type="password" class="form-control" id="password1">
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#registerModal">Register</button>
        <button type="submit" class="btn btn-primary" id="loginAdmin">Login</button>
      </div>
      <div class="alert alert-danger" id="alertNotRegister" style="display: none;" role="alert">
        You are not registered. Please Register First.
      </div>
    </div>
  </div>
</div>

<!-- Register Model -->
<div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="alert alert-success" id="alertRegister" style="display: none;" role="alert">
        You are registerd.
      </div>
      
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Register</h1>
      </div>
      <div class="modal-body">
        <div class="container">
          <form>
            <div class="mb-3">
              <label for="email2" class="form-label">Email address</label>
              <input type="email" class="form-control" id="email2" aria-describedby="emailHelp">
            </div>
            <div class="mb-3">
              <label for="password2" class="form-label">Password</label>
              <input type="password" class="form-control" id="password2">
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#loginModal">Login</button>
        <button type="submit" class="btn btn-success" id="register">Register</button>
      </div>
    </div>
  </div>
</div>
<footer>All rights reserved &copy 2024</footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>

     
const alert = document.querySelector('#alertRegister');
const mainlogin = document.querySelector('#login');
      mainlogin.addEventListener('click',()=>{
        alert.style.display = 'none';
      })
      //login admin
      const loginBtn = document.querySelector('#loginAdmin');
      loginBtn.addEventListener('click',async(ev)=>{
        ev.preventDefault();
      const email = document.querySelector('#email1').value;
      const password = document.querySelector('#password1').value;
      if(email!='' && password!=''){
        const admin = await fetch(`/admin/${email}/${password}`,{
          method:'GET'
        });
        if(admin){
          window.location = 'studentManagement.html';
        }
      }
      else{
        window.alert("Please fill the fields");
      }

        
           
      
      });


      //register admin
      const registerBtn = document.querySelector('#register');
      registerBtn.addEventListener('click',async (en)=>{
        try {
          en.preventDefault();
          const email = document.querySelector('#email2').value;
          const password = document.querySelector('#password2').value;
          const admin = await fetch('/admin',{
            method:'POST',
            headers:{
              'Content-Type':'application/json'
            },
            body:JSON.stringify({email:email,password:password})
          });
          const data = admin.json();
          if(admin){
            
            alert.style.display = 'block';
          }
        } catch (error) {
          console.log(error);
        }
      })
      
    </script>
</body>
</html>